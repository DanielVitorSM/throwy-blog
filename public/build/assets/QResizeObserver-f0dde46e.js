import{m as S,n as _,q as C,s as N,k as f,A as b,W as I,az as ge,aW as he,aA as me,r as P,cK as be,aB as ye,d3 as Te,aE as ke,d4 as xe,v as H,aS as Pe,au as qe,aT as Oe,d5 as Q,a$ as Se,d6 as Ce,a9 as Ee,a0 as q,d7 as Be,a2 as we,d8 as Re,a1 as ze,a_ as De,M as O,V as Fe,J as K,b0 as W}from"./app-5030ba9c.js";import{u as Me,v as p,a as Ae,b as Le,d as He,p as $,r as j,s as Qe,e as Ke}from"./position-engine-fff9eec8.js";const je=S({name:"QList",props:{..._,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:g}){const n=C(),o=N(e,n.proxy.$q),i=f(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(o.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>b(e.tag,{class:i.value},I(g.default))}}),Ve=S({name:"QMenu",inheritAttrs:!1,props:{...Me,...ge,..._,...he,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:p},self:{type:String,validator:p},offset:{type:Array,validator:Ae},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...me,"click","escapeKey"],setup(e,{slots:g,emit:n,attrs:o}){let i=null,c,l,d;const a=C(),{proxy:s}=a,{$q:u}=s,r=P(null),v=P(!1),U=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),G=N(e,u),{registerTick:X,removeTick:Y}=be(),{registerTimeout:E}=ye(),{transitionProps:Z,transitionStyle:ee}=Te(e),{localScrollTarget:B,changeScrollEvent:te,unconfigureScrollTarget:oe}=Le(e,A),{anchorEl:h,canShow:ne}=He({showing:v}),{hide:w}=ke({showing:v,canShow:ne,handleShow:le,handleHide:re,hideOnRouteChange:U,processOnMount:!0}),{showPortal:R,hidePortal:z,renderPortal:ae}=xe(a,r,de,"menu"),y={anchorEl:h,innerRef:r,onClickOutside(t){if(e.persistent!==!0&&v.value===!0)return w(t),(t.type==="touchstart"||t.target.classList.contains("q-dialog__backdrop"))&&ze(t),!0}},D=f(()=>$(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),se=f(()=>e.cover===!0?D.value:$(e.self||"top start",u.lang.rtl)),ie=f(()=>(e.square===!0?" q-menu--square":"")+(G.value===!0?" q-menu--dark q-dark":"")),ue=f(()=>e.autoClose===!0?{onClick:ce}:{}),F=f(()=>v.value===!0&&e.persistent!==!0);H(F,t=>{t===!0?(Be(k),Ke(y)):(Q(k),j(y))});function T(){we(()=>{let t=r.value;t&&t.contains(document.activeElement)!==!0&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))})}function le(t){if(i=e.noRefocus===!1?document.activeElement:null,Pe(L),R(),A(),c=void 0,t!==void 0&&(e.touchPosition||e.contextMenu)){const x=qe(t);if(x.left!==void 0){const{top:fe,left:ve}=h.value.getBoundingClientRect();c={left:x.left-ve,top:x.top-fe}}}l===void 0&&(l=H(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,m)),e.noFocus!==!0&&document.activeElement.blur(),X(()=>{m(),e.noFocus!==!0&&T()}),E(()=>{u.platform.is.ios===!0&&(d=e.autoClose,r.value.click()),m(),R(!0),n("show",t)},e.transitionDuration)}function re(t){Y(),z(),M(!0),i!==null&&(t===void 0||t.qClickOutside!==!0)&&(((t&&t.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),E(()=>{z(!0),n("hide",t)},e.transitionDuration)}function M(t){c=void 0,l!==void 0&&(l(),l=void 0),(t===!0||v.value===!0)&&(Oe(L),oe(),j(y),Q(k)),t!==!0&&(i=null)}function A(){(h.value!==null||e.scrollTarget!==void 0)&&(B.value=Se(h.value,e.scrollTarget),te(B.value,m))}function ce(t){d!==!0?(Ce(s,t),n("click",t)):d=!1}function L(t){F.value===!0&&e.noFocus!==!0&&Re(r.value,t.target)!==!0&&T()}function k(t){n("escapeKey"),w(t)}function m(){Qe({targetEl:r.value,offset:e.offset,anchorEl:h.value,anchorOrigin:D.value,selfOrigin:se.value,absoluteOffset:c,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function de(){return b(Ee,Z.value,()=>v.value===!0?b("div",{role:"menu",...o,ref:r,tabindex:-1,class:["q-menu q-position-engine scroll"+ie.value,o.class],style:[o.style,ee.value],...ue.value},I(g.default)):null)}return q(M),Object.assign(s,{focus:T,updatePosition:m}),ae}});function We(){const e=P(!De.value);return e.value===!1&&O(()=>{e.value=!0}),e}const J=typeof ResizeObserver<"u",V=J===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},_e=S({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:g}){let n=null,o,i={width:-1,height:-1};function c(a){a===!0||e.debounce===0||e.debounce==="0"?l():n===null&&(n=setTimeout(l,e.debounce))}function l(){if(n!==null&&(clearTimeout(n),n=null),o){const{offsetWidth:a,offsetHeight:s}=o;(a!==i.width||s!==i.height)&&(i={width:a,height:s},g("resize",i))}}const{proxy:d}=C();if(J===!0){let a;const s=u=>{o=d.$el.parentNode,o?(a=new ResizeObserver(c),a.observe(o),l()):u!==!0&&K(()=>{s(!0)})};return O(()=>{s()}),q(()=>{n!==null&&clearTimeout(n),a!==void 0&&(a.disconnect!==void 0?a.disconnect():o&&a.unobserve(o))}),Fe}else{let u=function(){n!==null&&(clearTimeout(n),n=null),s!==void 0&&(s.removeEventListener!==void 0&&s.removeEventListener("resize",c,W.passive),s=void 0)},r=function(){u(),o&&o.contentDocument&&(s=o.contentDocument.defaultView,s.addEventListener("resize",c,W.passive),l())};const a=We();let s;return O(()=>{K(()=>{o=d.$el,o&&r()})}),q(u),d.trigger=c,()=>{if(a.value===!0)return b("object",{style:V.style,tabindex:-1,type:"text/html",data:V.url,"aria-hidden":"true",onLoad:r})}}}});export{je as Q,Ve as a,_e as b};
