import{d as g,v as w,o as C,c as R,b7 as U,B as A,u as t,ak as j,Q as y,w as d,al as q,aP as O,aQ as B,T as E,r as h,k as T,b as n,a,f as u,j as p,b8 as F,C as x,e as L,O as M}from"./app-5030ba9c.js";import{Q as Y}from"./QTooltip-c398c1dc.js";import{Q as $}from"./QExpansionItem-ff3665f2.js";import{Q as z}from"./QForm-b40cd24c.js";import{u as D,c as G}from"./constants-dc375e8c.js";const k=g({__name:"QCurrencyInput",props:{modelValue:Number},setup(V){const f=V,{inputRef:m,formattedValue:c,setValue:e}=D(G.CURRENCY_CONFIG);return w(()=>f.modelValue,l=>e(l??0)),(l,i)=>(C(),R(y,{ref_key:"inputRef",ref:m,modelValue:t(c),"onUpdate:modelValue":i[0]||(i[0]=b=>j(c)?c.value=b:null),outlined:""},U({_:2},[A(l.$slots,(b,v)=>({name:v,fn:d(_=>[q(l.$slots,v,O(B(_||{})))])}))]),1032,["modelValue"]))}}),H={class:"row q-col-gutter-md"},X={class:"col-12 col-md-6"},J={class:"col-12 col-md-6"},K={class:"col-12 col-md-6"},W={class:"col-12 col-md-6"},Z={class:"col-12"},ee={class:"row q-col-gutter-md q-mt-xs"},ae={class:"col-12 col-md-6"},le={class:"col-12 col-md-6"},oe={class:"row items-center h-100",style:{height:"56px"}},se=n("b",null,"Tabela Regressiva",-1),te={class:"col-12"},ne={class:"row items-center justify-end q-gutter-md"},me=g({__name:"CompoundInterestForm",setup(V){const f={years:"Anos",months:"Meses"},m={annually:"Anual",monthly:"Mensal"},e=E(Object.assign({},{initialValue:0,monthlyValue:0,feesTax:0,feesTaxType:"annually",period:0,periodType:"years",irrf:!0,ipca:0,ipcaType:"annually"})),l=h(!1),i=h(!1),b=()=>e.feesTaxType=e.feesTaxType=="annually"?"monthly":"annually",v=T(()=>m[e.feesTaxType]),_=()=>e.periodType=e.periodType=="years"?"months":"years",I=T(()=>f[e.periodType]),Q=()=>e.ipcaType=e.ipcaType=="annually"?"monthly":"annually",N=T(()=>e.ipcaType?m[e.ipcaType]:"Não encontrado"),P=()=>{l.value=!0;let r=e.data();i.value||(r.ipca=void 0,r.ipcaType=void 0,r.irrf=void 0),M.reload({preserveState:!0,data:r,onFinish:()=>l.value=!1})},S=()=>e.reset();return(r,s)=>(C(),R(z,{onSubmit:L(P,["prevent"]),onReset:S},{default:d(()=>[n("div",H,[n("div",X,[a(k,{"stack-label":"",disable:l.value,label:"Valor inicial",modelValue:t(e).initialValue,"onUpdate:modelValue":s[0]||(s[0]=o=>t(e).initialValue=o)},{prepend:d(()=>[a(u,{name:"attach_money"})]),_:1},8,["disable","modelValue"])]),n("div",J,[a(k,{"stack-label":"",disable:l.value,label:"Valor mensal",modelValue:t(e).monthlyValue,"onUpdate:modelValue":s[1]||(s[1]=o=>t(e).monthlyValue=o)},{prepend:d(()=>[a(u,{name:"attach_money"})]),_:1},8,["disable","modelValue"])]),n("div",K,[a(y,{outlined:"","stack-label":"",label:"Taxa de juros",mask:"#,##","fill-mask":"0",disable:l.value,"reverse-fill-mask":"","hide-bottom-space":"","unmasked-value":"",rules:[o=>Number(o)>0||"Insira uma taxa de juros"],"model-value":String(t(e).feesTax*100),"onUpdate:modelValue":s[2]||(s[2]=o=>t(e).feesTax=Number(o)/100)},{prepend:d(()=>[a(u,{name:"percent"})]),append:d(()=>[a(p,{label:v.value,onClick:b,"no-caps":"",disable:l.value,flat:"",color:"primary"},null,8,["label","disable"])]),_:1},8,["disable","rules","model-value"])]),n("div",W,[a(y,{"stack-label":"",placeholder:"0",disable:l.value,"hide-bottom-space":"",outlined:"",label:"Período em",type:"number",rules:[o=>Number(o)>0||"Insira um período"],"model-value":t(e).period<=0?null:t(e).period,"onUpdate:modelValue":s[3]||(s[3]=o=>t(e).period=Number(o))},{append:d(()=>[a(p,{label:I.value,onClick:_,"no-caps":"",disable:l.value,flat:"",color:"primary"},null,8,["label","disable"])]),_:1},8,["disable","rules","model-value"])]),n("div",Z,[a($,{modelValue:i.value,"onUpdate:modelValue":s[6]||(s[6]=o=>i.value=o),label:"Opções avançadas",caption:"Habilita o cálculo de juros reais e recolhimento de imposto de renda",class:"full-width"},{default:d(()=>[n("div",ee,[n("div",ae,[a(y,{outlined:"","stack-label":"",label:"IPCA médio",mask:"#,##","fill-mask":"0",disable:l.value&&!i.value,"reverse-fill-mask":"","unmasked-value":"","hide-bottom-space":"","model-value":String((t(e).ipca||0)*100),"onUpdate:modelValue":s[4]||(s[4]=o=>t(e).ipca=Number(o)/100)},{prepend:d(()=>[a(u,{name:"percent"})]),append:d(()=>[a(p,{label:N.value,onClick:Q,"no-caps":"",disable:l.value,flat:"",color:"primary"},null,8,["label","disable"])]),_:1},8,["disable","model-value"])]),n("div",le,[n("div",oe,[a(F,{modelValue:t(e).irrf,"onUpdate:modelValue":s[5]||(s[5]=o=>t(e).irrf=o),class:"q-mr-sm",label:"Considerar imposto de Renda"},null,8,["modelValue"]),a(u,{name:"info"},{default:d(()=>[a(Y,{tri:"","max-width":"300px",class:"text-caption"},{default:d(()=>[x(" Caso essa seja uma aplicação de renda fixa, pode-se descontar o Imposto de Renda Retido na Fonte calculado segundo a "),se,x(" para obter uma melhor aproximação líquida. ")]),_:1})]),_:1})])])])]),_:1},8,["modelValue"])]),n("div",te,[n("div",ne,[a(p,{disable:l.value,label:"Limpar",type:"reset","no-caps":"",flat:"",color:"grey-8"},null,8,["disable"]),a(p,{loading:l.value,label:"Calcular",type:"submit","no-caps":"",unelevated:"",color:"primary"},null,8,["loading"])])])])]),_:1},8,["onSubmit"]))}});export{me as _};
