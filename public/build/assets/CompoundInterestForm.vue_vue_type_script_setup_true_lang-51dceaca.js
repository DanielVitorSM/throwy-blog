import{d as N,v as A,o as P,c as Q,bc as O,B as F,u as t,as as q,Q as v,w as i,at as B,aU as E,aV as L,T as M,r as C,k as T,b as n,a as l,f as p,j as c,bd as Y,C as k,e as z,be as D,O as G}from"./app-b69ccc3c.js";import{Q as H}from"./QTooltip-901db448.js";import{Q as X}from"./QExpansionItem-ca75eda7.js";import{Q as J}from"./QForm-b03f552f.js";import{u as K,c as W,t as g,a as I}from"./functions-1e89eafd.js";import"./index.esm-bundler-d1d05260.js";const R=N({__name:"QCurrencyInput",props:{modelValue:Number},setup(V){const f=V,{inputRef:m,formattedValue:b,setValue:e}=K(W.CURRENCY_CONFIG);return A(()=>f.modelValue,o=>e(o??0)),(o,r)=>(P(),Q(v,{ref_key:"inputRef",ref:m,modelValue:t(b),"onUpdate:modelValue":r[0]||(r[0]=y=>q(b)?b.value=y:null),outlined:""},O({_:2},[F(o.$slots,(y,u)=>({name:u,fn:i(_=>[B(o.$slots,u,E(L(_||{})))])}))]),1032,["modelValue"]))}}),Z={class:"row q-col-gutter-md"},ee={class:"col-12 col-md-6"},ae={class:"col-12 col-md-6"},le={class:"col-12 col-md-6"},oe={class:"col-12 col-md-6"},se={class:"col-12"},te={class:"row q-col-gutter-md q-mt-xs"},ne={class:"col-12 col-md-6"},ie={class:"col-12 col-md-6"},de={class:"row items-center h-100",style:{height:"56px"}},re=n("b",null,"Tabela Regressiva",-1),ue={class:"col-12"},pe={class:"row items-center justify-end q-gutter-md"},_e=N({__name:"CompoundInterestForm",setup(V){const f={years:"Anos",months:"Meses"},m={annually:"Anual",monthly:"Mensal"},e=M(Object.assign({},{initialValue:0,monthlyValue:0,feesTax:0,feesTaxType:"annually",period:0,periodType:"years",irrf:!0,ipca:0,ipcaType:"annually"})),o=C(!1),r=C(!1),y=()=>e.feesTaxType=e.feesTaxType=="annually"?"monthly":"annually",u=T(()=>m[e.feesTaxType]),_=()=>e.periodType=e.periodType=="years"?"months":"years",h=T(()=>f[e.periodType]),$=()=>e.ipcaType=e.ipcaType=="annually"?"monthly":"annually",x=T(()=>e.ipcaType?m[e.ipcaType]:"Não encontrado"),j=()=>{o.value=!0;let d=e.data();r.value||(d.ipca=void 0,d.ipcaType=void 0,d.irrf=void 0);try{const s={"Valor inicial":g(e.initialValue),"Valor mensal":g(e.monthlyValue),"Taxa de juros":`${I(e.feesTax)}% (${u})`,Período:`${e.period} (${h})`,IRRF:`${d.irrf?"Incluído":"Não incluído"}`};d.ipcaType&&d.ipca&&Object.assign(s,{IPCA:`${I(d.ipca)}% (${x})`});const a=Object.entries(s).map(([w,U])=>`${w}: ${U}`).join(" - ");D("Click",{event_feature:"Calculadora",action:"Calcular",event_category:"Calculadora",event_label:a})}finally{G.reload({preserveState:!0,data:d,onFinish:()=>o.value=!1})}},S=()=>e.reset();return(d,s)=>(P(),Q(J,{onSubmit:z(j,["prevent"]),onReset:S},{default:i(()=>[n("div",Z,[n("div",ee,[l(R,{"stack-label":"",disable:o.value,label:"Valor inicial",modelValue:t(e).initialValue,"onUpdate:modelValue":s[0]||(s[0]=a=>t(e).initialValue=a)},{prepend:i(()=>[l(p,{name:"attach_money"})]),_:1},8,["disable","modelValue"])]),n("div",ae,[l(R,{"stack-label":"",disable:o.value,label:"Valor mensal",modelValue:t(e).monthlyValue,"onUpdate:modelValue":s[1]||(s[1]=a=>t(e).monthlyValue=a)},{prepend:i(()=>[l(p,{name:"attach_money"})]),_:1},8,["disable","modelValue"])]),n("div",le,[l(v,{outlined:"","stack-label":"",label:"Taxa de juros",mask:"#,##","fill-mask":"0",disable:o.value,"reverse-fill-mask":"","hide-bottom-space":"","unmasked-value":"",rules:[a=>Number(a)>0||"Insira uma taxa de juros"],"model-value":String(t(e).feesTax*100),"onUpdate:modelValue":s[2]||(s[2]=a=>t(e).feesTax=Number(a)/100)},{prepend:i(()=>[l(p,{name:"percent"})]),append:i(()=>[l(c,{label:u.value,onClick:y,"no-caps":"",disable:o.value,flat:"",color:"primary"},null,8,["label","disable"])]),_:1},8,["disable","rules","model-value"])]),n("div",oe,[l(v,{"stack-label":"",placeholder:"0",disable:o.value,"hide-bottom-space":"",outlined:"",label:"Período em",type:"number",rules:[a=>Number(a)>0||"Insira um período"],"model-value":t(e).period<=0?null:t(e).period,"onUpdate:modelValue":s[3]||(s[3]=a=>t(e).period=Number(a))},{append:i(()=>[l(c,{label:h.value,onClick:_,"no-caps":"",disable:o.value,flat:"",color:"primary"},null,8,["label","disable"])]),_:1},8,["disable","rules","model-value"])]),n("div",se,[l(X,{modelValue:r.value,"onUpdate:modelValue":s[6]||(s[6]=a=>r.value=a),label:"Opções avançadas",caption:"Habilita o cálculo de juros reais e recolhimento de imposto de renda",class:"full-width"},{default:i(()=>[n("div",te,[n("div",ne,[l(v,{outlined:"","stack-label":"",label:"IPCA médio",mask:"#,##","fill-mask":"0",disable:o.value&&!r.value,"reverse-fill-mask":"","unmasked-value":"","hide-bottom-space":"","model-value":String((t(e).ipca||0)*100),"onUpdate:modelValue":s[4]||(s[4]=a=>t(e).ipca=Number(a)/100)},{prepend:i(()=>[l(p,{name:"percent"})]),append:i(()=>[l(c,{label:x.value,onClick:$,"no-caps":"",disable:o.value,flat:"",color:"primary"},null,8,["label","disable"])]),_:1},8,["disable","model-value"])]),n("div",ie,[n("div",de,[l(Y,{modelValue:t(e).irrf,"onUpdate:modelValue":s[5]||(s[5]=a=>t(e).irrf=a),class:"q-mr-sm",label:"Considerar imposto de Renda"},null,8,["modelValue"]),l(p,{name:"info"},{default:i(()=>[l(H,{tri:"","max-width":"300px",class:"text-caption"},{default:i(()=>[k(" Caso essa seja uma aplicação de renda fixa, pode-se descontar o Imposto de Renda Retido na Fonte calculado segundo a "),re,k(" para obter uma melhor aproximação líquida. ")]),_:1})]),_:1})])])])]),_:1},8,["modelValue"])]),n("div",ue,[n("div",pe,[l(c,{disable:o.value,label:"Limpar",type:"reset","no-caps":"",flat:"",color:"grey-8"},null,8,["disable"]),l(c,{loading:o.value,label:"Calcular",type:"submit","no-caps":"",unelevated:"",color:"primary"},null,8,["loading"])])])])]),_:1},8,["onSubmit"]))}});export{_e as _};
