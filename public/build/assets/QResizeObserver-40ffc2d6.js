import{m as O,n as I,q as C,s as N,k as f,A as b,U,aG as ge,a$ as he,aH as me,r as P,cS as be,aI as ye,d9 as ke,aL as Te,da as xe,v as H,aX as Pe,W as Se,aY as qe,db as Q,b4 as Oe,dc as Ce,S as Ee,a9 as S,dd as we,ab as Be,de as Re,aa as ze,b3 as De,_ as q,a4 as Fe,J as p,b5 as K}from"./app-b69ccc3c.js";import{u as Le,v as W,a as Me,b as Ae,d as He,p as $,r as j,s as Qe,e as pe}from"./position-engine-2451d219.js";const je=O({name:"QList",props:{...I,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:g}){const n=C(),o=N(e,n.proxy.$q),i=f(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(o.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>b(e.tag,{class:i.value},U(g.default))}}),_e=O({name:"QMenu",inheritAttrs:!1,props:{...Le,...ge,...I,...he,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:W},self:{type:String,validator:W},offset:{type:Array,validator:Me},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...me,"click","escapeKey"],setup(e,{slots:g,emit:n,attrs:o}){let i=null,c,l,d;const a=C(),{proxy:s}=a,{$q:u}=s,r=P(null),v=P(!1),G=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),J=N(e,u),{registerTick:X,removeTick:Y}=be(),{registerTimeout:E}=ye(),{transitionProps:Z,transitionStyle:ee}=ke(e),{localScrollTarget:w,changeScrollEvent:te,unconfigureScrollTarget:oe}=Ae(e,M),{anchorEl:h,canShow:ne}=He({showing:v}),{hide:B}=Te({showing:v,canShow:ne,handleShow:le,handleHide:re,hideOnRouteChange:G,processOnMount:!0}),{showPortal:R,hidePortal:z,renderPortal:ae}=xe(a,r,de,"menu"),y={anchorEl:h,innerRef:r,onClickOutside(t){if(e.persistent!==!0&&v.value===!0)return B(t),(t.type==="touchstart"||t.target.classList.contains("q-dialog__backdrop"))&&ze(t),!0}},D=f(()=>$(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),se=f(()=>e.cover===!0?D.value:$(e.self||"top start",u.lang.rtl)),ie=f(()=>(e.square===!0?" q-menu--square":"")+(J.value===!0?" q-menu--dark q-dark":"")),ue=f(()=>e.autoClose===!0?{onClick:ce}:{}),F=f(()=>v.value===!0&&e.persistent!==!0);H(F,t=>{t===!0?(we(T),pe(y)):(Q(T),j(y))});function k(){Be(()=>{let t=r.value;t&&t.contains(document.activeElement)!==!0&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))})}function le(t){if(i=e.noRefocus===!1?document.activeElement:null,Pe(A),R(),M(),c=void 0,t!==void 0&&(e.touchPosition||e.contextMenu)){const x=Se(t);if(x.left!==void 0){const{top:fe,left:ve}=h.value.getBoundingClientRect();c={left:x.left-ve,top:x.top-fe}}}l===void 0&&(l=H(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,m)),e.noFocus!==!0&&document.activeElement.blur(),X(()=>{m(),e.noFocus!==!0&&k()}),E(()=>{u.platform.is.ios===!0&&(d=e.autoClose,r.value.click()),m(),R(!0),n("show",t)},e.transitionDuration)}function re(t){Y(),z(),L(!0),i!==null&&(t===void 0||t.qClickOutside!==!0)&&(((t&&t.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),E(()=>{z(!0),n("hide",t)},e.transitionDuration)}function L(t){c=void 0,l!==void 0&&(l(),l=void 0),(t===!0||v.value===!0)&&(qe(A),oe(),j(y),Q(T)),t!==!0&&(i=null)}function M(){(h.value!==null||e.scrollTarget!==void 0)&&(w.value=Oe(h.value,e.scrollTarget),te(w.value,m))}function ce(t){d!==!0?(Ce(s,t),n("click",t)):d=!1}function A(t){F.value===!0&&e.noFocus!==!0&&Re(r.value,t.target)!==!0&&k()}function T(t){n("escapeKey"),B(t)}function m(){Qe({targetEl:r.value,offset:e.offset,anchorEl:h.value,anchorOrigin:D.value,selfOrigin:se.value,absoluteOffset:c,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function de(){return b(Ee,Z.value,()=>v.value===!0?b("div",{role:"menu",...o,ref:r,tabindex:-1,class:["q-menu q-position-engine scroll"+ie.value,o.class],style:[o.style,ee.value],...ue.value},U(g.default)):null)}return S(L),Object.assign(s,{focus:k,updatePosition:m}),ae}});function Ke(){const e=P(!De.value);return e.value===!1&&q(()=>{e.value=!0}),e}const V=typeof ResizeObserver<"u",_=V===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Ie=O({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:g}){let n=null,o,i={width:-1,height:-1};function c(a){a===!0||e.debounce===0||e.debounce==="0"?l():n===null&&(n=setTimeout(l,e.debounce))}function l(){if(n!==null&&(clearTimeout(n),n=null),o){const{offsetWidth:a,offsetHeight:s}=o;(a!==i.width||s!==i.height)&&(i={width:a,height:s},g("resize",i))}}const{proxy:d}=C();if(V===!0){let a;const s=u=>{o=d.$el.parentNode,o?(a=new ResizeObserver(c),a.observe(o),l()):u!==!0&&p(()=>{s(!0)})};return q(()=>{s()}),S(()=>{n!==null&&clearTimeout(n),a!==void 0&&(a.disconnect!==void 0?a.disconnect():o&&a.unobserve(o))}),Fe}else{let u=function(){n!==null&&(clearTimeout(n),n=null),s!==void 0&&(s.removeEventListener!==void 0&&s.removeEventListener("resize",c,K.passive),s=void 0)},r=function(){u(),o&&o.contentDocument&&(s=o.contentDocument.defaultView,s.addEventListener("resize",c,K.passive),l())};const a=Ke();let s;return q(()=>{p(()=>{o=d.$el,o&&r()})}),S(u),d.trigger=c,()=>{if(a.value===!0)return b("object",{style:_.style,tabindex:-1,type:"text/html",data:_.url,"aria-hidden":"true",onLoad:r})}}}});export{je as Q,_e as a,Ie as b};
