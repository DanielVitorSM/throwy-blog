import{Q as N}from"./QSpace-375ace99.js";import{d as R,r as S,o as l,g as D,a as e,u as s,w as a,b as m,c as i,i as C,j as u,f as _,E as v,C as p,G as P,t as A,F as I,H as V,O as c,Z as Y}from"./app-600ac085.js";import{f as j,g as z,a as E,c as b,d as y,C as k}from"./ClosePopup-3827a044.js";import{Q,a as F}from"./QTable-121eff70.js";import{_ as H}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-f3558ff3.js";import{u as M}from"./use-quasar-c23c70ab.js";import{_ as w}from"./EditCategory.vue_vue_type_script_setup_true_lang-12b1e130.js";import"./position-engine-dd91bf20.js";import"./use-fullscreen-a5122f0e.js";import"./QChip-3fc8f4be.js";import"./AppLogo-d1fd441a.js";import"./notify-08facff7.js";import"./QForm-3c902122.js";import"./use-dialog-plugin-component-b447f4c7.js";const O={class:"q-mb-lg q-col-gutter-lg row items-center"},T=m("h2",{class:"text-bold text-h4 q-ma-none"},"Categorias",-1),se=R({__name:"Categories",props:{categories:{type:Array,required:!0},pagination:{type:Object,required:!0},active:{type:Boolean,default:()=>!0}},setup(n){const r=S(!1),f=M(),h=[{name:"name",field:"name",label:"Nome",align:"left",sortable:!0},{name:"posts_count",field:"posts_count",label:"Posts",align:"center",sortable:!0},{name:"created_at",field:"created_at",label:"Criado em",format:o=>V(o).format("DD/MM/YYYY HH:mm:ss"),align:"center",sortable:!0},{name:"actions",field:o=>o,label:"Ações",align:"center"}],x=o=>{const{page:d,rowsPerPage:t,sortBy:g,descending:$}=o.pagination;r.value=!0,c.reload({only:["categories","pagination"],preserveState:!0,data:{page:d,rowsPerPage:t,sortBy:g,descending:$,active:n.active},onFinish:()=>r.value=!1})},q=()=>f.dialog({component:w}),B=o=>f.dialog({component:w,componentProps:{categoryId:o}});return(o,d)=>(l(),D(I,null,[e(s(Y),{title:"Categorias"}),e(H,null,{default:a(()=>[m("section",O,[T,s(f).screen.gt.xs?(l(),i(N,{key:0})):C("",!0),e(j,{unelevated:"",flat:""},{default:a(()=>[e(u,{color:"secondary",outline:!n.active,disable:r.value||n.active,label:"Ativos",unelevated:"","no-caps":"",onClick:d[0]||(d[0]=()=>s(c).reload({data:{active:!0}}))},null,8,["outline","disable"]),e(u,{color:"secondary",outline:n.active,disable:r.value||!n.active,label:"Arquivados",unelevated:"","no-caps":"",onClick:d[1]||(d[1]=()=>s(c).reload({data:{active:!1}}))},null,8,["outline","disable"])]),_:1}),m("div",null,[e(u,{onClick:q,color:"primary",disable:r.value,label:"Novo",unelevated:"","no-caps":""},null,8,["disable"])])]),m("section",null,[(l(),i(s(F),{flat:"",class:"full-width sticky-last-column",bordered:"",key:(+new Date).toString(36),onRequest:x,"rows-per-page-options":[5,10,25,50],loading:r.value,"binary-state-sort":"",rows:n.categories,pagination:n.pagination,columns:h,"row-key":"id"},{"body-cell-published":a(t=>[e(Q,{props:t},{default:a(()=>[t.value?(l(),i(_,{key:0,name:"check",size:"xs",color:"green"})):(l(),i(_,{key:1,name:"close",size:"xs",color:"red"}))]),_:2},1032,["props"])]),"body-cell-actions":a(t=>[e(Q,{props:t},{default:a(()=>[e(u,{icon:"more_horiz",flat:"",round:""},{default:a(()=>[e(z,null,{default:a(()=>[e(E,{dense:"",style:{"min-width":"100px"}},{default:a(()=>[v((l(),i(b,{onClick:()=>B(t.value.id),dense:"",clickable:""},{default:a(()=>[e(y,null,{default:a(()=>[p("Editar")]),_:1})]),_:2},1032,["onClick"])),[[k]]),t.value.deleted_at?v((l(),i(b,{key:0,onClick:g=>s(c).post(o.$route("categories.restore",{id:t.value.id}),void 0,{headers:{"X-Reload":"true"}}),dense:"",clickable:""},{default:a(()=>[e(y,null,{default:a(()=>[p("Restaurar")]),_:1})]),_:2},1032,["onClick"])),[[k]]):C("",!0),e(P),v((l(),i(b,{onClick:g=>s(c).delete(o.$route("categories.destroy",{id:t.value.id}),{headers:{"X-Reload":"true"}}),dense:"",clickable:"",class:"text-red-8"},{default:a(()=>[e(y,null,{default:a(()=>[p(A(t.value.deleted_at?"Remover permanentemente":"Remover"),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[k]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["loading","rows","pagination"]))])]),_:1})],64))}});export{se as default};
