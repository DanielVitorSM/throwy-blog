import{Q as N}from"./QSpace-654b85e0.js";import{d as R,r as S,o as l,g as D,a as e,u as n,w as a,b as m,c as r,i as C,j as u,f as _,E as p,C as v,G as P,t as A,F as I,H as V,O as c,Z as Y}from"./app-b69ccc3c.js";import{b as j,C as b}from"./AppLogo-1bf7f7a9.js";import{Q}from"./QTd-541a5cc4.js";import{Q as y,a as k}from"./QItem-91d9023b.js";import{a as z,Q as E}from"./QResizeObserver-40ffc2d6.js";import{_ as F}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-099840d7.js";import{Q as H}from"./QTable-04f69b69.js";import{u as M}from"./use-quasar-daa21963.js";import{_ as w}from"./EditCategory.vue_vue_type_script_setup_true_lang-6e63829a.js";import"./position-engine-2451d219.js";import"./QExpansionItem-ca75eda7.js";import"./touch-5ff41afe.js";import"./format-702da16c.js";import"./notify-0d4c84f3.js";import"./use-fullscreen-75389d89.js";import"./QChip-f3f6b2f3.js";import"./QForm-b03f552f.js";import"./use-dialog-plugin-component-4f3461ce.js";const O={class:"q-mb-lg q-col-gutter-lg row items-center"},T=m("h2",{class:"text-bold text-h4 q-ma-none"},"Categorias",-1),ue=R({__name:"Categories",props:{categories:{type:Array,required:!0},pagination:{type:Object,required:!0},active:{type:Boolean,default:()=>!0}},setup(i){const s=S(!1),f=M(),h=[{name:"name",field:"name",label:"Nome",align:"left",sortable:!0},{name:"posts_count",field:"posts_count",label:"Posts",align:"center",sortable:!0},{name:"created_at",field:"created_at",label:"Criado em",format:o=>V(o).format("DD/MM/YYYY HH:mm:ss"),align:"center",sortable:!0},{name:"actions",field:o=>o,label:"Ações",align:"center"}],x=o=>{const{page:d,rowsPerPage:t,sortBy:g,descending:$}=o.pagination;s.value=!0,c.reload({only:["categories","pagination"],preserveState:!0,data:{page:d,rowsPerPage:t,sortBy:g,descending:$,active:i.active},onFinish:()=>s.value=!1})},q=()=>f.dialog({component:w}),B=o=>f.dialog({component:w,componentProps:{categoryId:o}});return(o,d)=>(l(),D(I,null,[e(n(Y),{title:"Categorias"}),e(F,null,{default:a(()=>[m("section",O,[T,n(f).screen.gt.xs?(l(),r(N,{key:0})):C("",!0),e(j,{unelevated:"",flat:""},{default:a(()=>[e(u,{color:"secondary",outline:!i.active,disable:s.value||i.active,label:"Ativos",unelevated:"","no-caps":"",onClick:d[0]||(d[0]=()=>n(c).reload({data:{active:!0}}))},null,8,["outline","disable"]),e(u,{color:"secondary",outline:i.active,disable:s.value||!i.active,label:"Arquivados",unelevated:"","no-caps":"",onClick:d[1]||(d[1]=()=>n(c).reload({data:{active:!1}}))},null,8,["outline","disable"])]),_:1}),m("div",null,[e(u,{onClick:q,color:"primary",disable:s.value,label:"Novo",unelevated:"","no-caps":""},null,8,["disable"])])]),m("section",null,[(l(),r(n(H),{flat:"",class:"full-width sticky-last-column",bordered:"",key:(+new Date).toString(36),onRequest:x,"rows-per-page-options":[5,10,25,50],loading:s.value,"binary-state-sort":"",rows:i.categories,pagination:i.pagination,columns:h,"row-key":"id"},{"body-cell-published":a(t=>[e(Q,{props:t},{default:a(()=>[t.value?(l(),r(_,{key:0,name:"check",size:"xs",color:"green"})):(l(),r(_,{key:1,name:"close",size:"xs",color:"red"}))]),_:2},1032,["props"])]),"body-cell-actions":a(t=>[e(Q,{props:t},{default:a(()=>[e(u,{icon:"more_horiz",flat:"",round:""},{default:a(()=>[e(z,null,{default:a(()=>[e(E,{dense:"",style:{"min-width":"100px"}},{default:a(()=>[p((l(),r(y,{onClick:()=>B(t.value.id),dense:"",clickable:""},{default:a(()=>[e(k,null,{default:a(()=>[v("Editar")]),_:1})]),_:2},1032,["onClick"])),[[b]]),t.value.deleted_at?p((l(),r(y,{key:0,onClick:g=>n(c).post(o.$route("categories.restore",{id:t.value.id}),void 0,{headers:{"X-Reload":"true"}}),dense:"",clickable:""},{default:a(()=>[e(k,null,{default:a(()=>[v("Restaurar")]),_:1})]),_:2},1032,["onClick"])),[[b]]):C("",!0),e(P),p((l(),r(y,{onClick:g=>n(c).delete(o.$route("categories.destroy",{id:t.value.id}),{headers:{"X-Reload":"true"}}),dense:"",clickable:"",class:"text-red-8"},{default:a(()=>[e(k,null,{default:a(()=>[v(A(t.value.deleted_at?"Remover permanentemente":"Remover"),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[b]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["loading","rows","pagination"]))])]),_:1})],64))}});export{ue as default};
